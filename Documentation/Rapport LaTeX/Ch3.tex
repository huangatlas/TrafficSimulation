Après effectuer la première partie de travail sur l'algorithme, nous passons à la suite pour la réalisation de l'application. D'après le but de ce projet, nous choisissons langage C pour la réalisation. Cependant, ce que l'on veut faire, c'est de la programmation graphique, qui ne peut pas être réalisée en utilisant simplement ce que l'on a étudié pendant le cours. Alors nous avons fait de la recherche pour trouver une solution. Enfin nous avons choisi le technique OpenGL pour le faire.

\section{Introduction}
OpenGL(Open Graphics Library) est une librairie multiplate-forme qui définit un ensemble d'API pour faciliter la conception de l'application qui concerne les graphiques 3D/2D. Par rapport à DirectX(l'autre technique similaire sorti par Microsoft), OpenGL supporte plusieurs plate-formes. Par conséquent elle est déjà le standard de l'industrie. Elle contient environ 250 fonctions qui peuvent être utilisées pour affichier des scènes trimentionnelles complex à partir des simples primitives géométriques.


Puisque OpenGL est simplement un ensemble des fonctions, elle seule ne nous permet pas de créer une fenêtre pour montrer notre application. Donc il existe plusieus extensions d'OpenGL qui fournit d'autres fonctionnalités. GLUT(OpenGL Utility Toolkit) est un bon choix.


\section{Environnement de développement}
Pour réaliser cette application, nous avons choisi CodeBlocks comme notre outil de développement. Pour établir l'environnement de OpenGL, nous avons suivi les démarches suivantes:

\begin{enumerate}
	\item Télécharger et installer CodeBlocks.
	\item Télécharger les fichiers de GLUT.
	\item Placer glut32.dll à \verb§c:\windows\system§; glut32.lib à \verb§c:\program files\mingw\lib§, et
glut.h à \verb§c:\program files\mingw\include\GL§. Ce sont tous les positions par défault, en principe, les fichiers *.dll doit toujours être placé sous le répertoire système Windows; les *.lib et *.h sont mis respectivement sous les répertoire de librairie et de fichier d'en-tête du compilateur.
	\item Dans CodeBlocks, créer un nouveau projet GLUT et poursuivre les démarches.Figure\ref{fig:ch3_newglut}
	\item Enfin on obtient un projet d'exemple, mais on doit quand même ajouter quelques choses pour le faire marcher. Ajouter \verb%#include<windows.h>% au début du fichier Main.
	\item Maintenant on peut déjà lancer cet application d'exemple. Figure\ref{fig:ch3_glexemple}
\end{enumerate}	

\begin{figure}[!ht]
	\centering
		\includegraphics[width=14cm]{pics/ch3_newglut.png}
	\caption{Nouveau projet GLUT}
	\label{fig:ch3_newglut}
	\end{figure}
	
	\begin{figure}[!ht]
		\centering
			\includegraphics[width=14cm]{pics/ch3_glexemple.png}
		\caption{Exemple projet GLUT}
		\label{fig:ch3_glexemple}
	\end{figure}
	
\section{Structure d'une application OpenGL}
\label{ch3_structureopengl}
Pour maîtriser OpenGL, beaucoup de connaîssances sont nécessaires, mais ici, on peut quand même montrer une structure d'une application simplifiée OpenGL.


La fonction main est généralement comme ça:
\begin{lstlisting}
int main(int argc, char** argv)
{
    glutInit(&argc,argv);
    glutInitDisplayMode(GLUT_DOUBLE| GLUT_RGB);
    glutInitWindowSize(config.windowWidth,config.windowHeight);
    glutInitWindowPosition(0,0);
    glutCreateWindow(''Traffic Simulation'');
    glClearColor(25.0/255,134.0/255,19.0/255,0.3);//Couleur de l'arrière plan
    glShadeModel(GL_SMOOTH);
    /*Function callback. Fonction myReshape sera invoqué 
     *quand la fenêtre change sa forme.*/
    glutReshapeFunc(myReshape);
    /*Fonction myDisplay actualiser l'écran*/
    glutDisplayFunc(myDisplay);
    /*mouse est invoqué quand un bouton de la souris est appuyé*/
    glutMouseFunc(mouse);

    /*Créer un menu*/
    glutCreateMenu(menuFonc);
    glutAddMenuEntry(''Start'',MENU_START);
    glutAddMenuEntry(''Renew configuration'',MENU_RENEW);
    glutAddMenuEntry(''Synchronize the traffic lights'',MENU_SYNC);
    glutAttachMenu(GLUT_RIGHT_BUTTON);//Lier ce menu avec un bouton
    
    /*Cette dernière ligne commence la boucle principale de cet application*/
    glutMainLoop();
}
\end{lstlisting}